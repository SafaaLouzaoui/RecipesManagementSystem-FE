{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Commentaire } from '../models/commentaire';\nexport let ViewRecetteComponent = class ViewRecetteComponent {\n  constructor(route, recetteService, router, http) {\n    this.route = route;\n    this.recetteService = recetteService;\n    this.router = router;\n    this.http = http;\n    this.recette = {};\n    this.slideIndex = 1;\n    //////slider\n    this.urlMedia = [];\n    this.imgCollection = [];\n    //////slider\n    // Commnet Recipe\n    this.commentaire = new Commentaire();\n    this.message = '';\n  }\n  ngOnInit() {\n    this.getRecette();\n  }\n  scrollDown() {\n    const detailsSection = document.querySelector('#about');\n    detailsSection?.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }\n  getRecette() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.recetteService.getRecetteById(id).subscribe(data => {\n      this.recette = data;\n      if (this.recette.medias) {\n        for (const media of this.recette.medias) {\n          const imageObject = {\n            image: `assets/images/${media.url}`,\n            thumbImage: `assets/images/${media.url}`,\n            alt: 'Image 1',\n            title: 'Image 1'\n          };\n          this.imgCollection.push(imageObject);\n        }\n      }\n      console.log(this.imgCollection);\n    }, error => {\n      console.log(error);\n    });\n  }\n  CommentRecipe(recetteId) {\n    let bodyData = {\n      \"message\": this.message,\n      \"recette\": {\n        \"id\": recetteId\n      }\n    };\n    console.log(bodyData);\n    //    this.http.post('http://localhost:8083/api/v1/commentaires/creer?idRecette='+ recetteId +'&idPersonne='+ this.userId,bodyData\n    //    ).subscribe((resultData: any)=>\n    // {\n    //       console.log(resultData);\n    //    });\n  }\n\n  goBack() {\n    this.router.navigate(['/recettes']);\n  }\n  getImageUrl(url) {\n    return `../../assets/images/${url}`;\n  }\n};\nViewRecetteComponent = __decorate([Component({\n  selector: 'app-view-recette',\n  templateUrl: './view-recette.component.html',\n  styleUrls: ['./view-recette.component.css']\n})], ViewRecetteComponent);","map":{"version":3,"names":["Component","Commentaire","ViewRecetteComponent","constructor","route","recetteService","router","http","recette","slideIndex","urlMedia","imgCollection","commentaire","message","ngOnInit","getRecette","scrollDown","detailsSection","document","querySelector","scrollIntoView","behavior","id","Number","snapshot","paramMap","get","getRecetteById","subscribe","data","medias","media","imageObject","image","url","thumbImage","alt","title","push","console","log","error","CommentRecipe","recetteId","bodyData","goBack","navigate","getImageUrl","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\aFileProjects\\PROJET STAGE\\RecipesManagementSystem-FE\\src\\app\\view-recette\\view-recette.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { RecetteService } from '../services/recette.service';\r\nimport { Recette } from '../models/recette';\r\nimport { Commentaire } from '../models/commentaire';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Media } from '../models/media';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-view-recette',\r\n  templateUrl: './view-recette.component.html',\r\n  styleUrls: ['./view-recette.component.css']\r\n})\r\nexport class ViewRecetteComponent {\r\n\r\n  recette: Recette= {} as Recette ;\r\n  slideIndex = 1;\r\n //////slider\r\n urlMedia: Array<Media[]> = [];\r\n imgCollection: Array<object> = [];\r\n\r\n\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private recetteService: RecetteService,\r\n    private router: Router,\r\n    private http:HttpClient\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getRecette();\r\n\r\n\r\n\r\n  }\r\n\r\n  scrollDown(){\r\n    const detailsSection = document.querySelector('#about');\r\n    detailsSection?.scrollIntoView({ behavior: 'smooth' });\r\n\r\n  }\r\n\r\n\r\n  getRecette(): void {\r\n    const id = Number(this.route.snapshot.paramMap.get('id'));\r\n    this.recetteService.getRecetteById(id).subscribe(\r\n      (data: Recette) => {\r\n        this.recette = data;\r\n        if (this.recette.medias) {\r\n          for (const media of this.recette.medias) {\r\n            const imageObject = {\r\n              image: `assets/images/${media.url}`,\r\n              thumbImage: `assets/images/${media.url}`,\r\n              alt: 'Image 1',\r\n              title: 'Image 1'\r\n            };\r\n            this.imgCollection.push(imageObject);\r\n          }\r\n        }\r\n        console.log(this.imgCollection)\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n//////slider\r\n\r\n  // Commnet Recipe\r\n\r\ncommentaire : Commentaire = new Commentaire();\r\nmessage :string =''\r\nCommentRecipe(recetteId ?:number){\r\n  let bodyData  =  {\r\n    \"message\":this.message ,\r\n    \"recette\":{\"id\":recetteId}\r\n   };\r\n\r\n\r\n   console.log(bodyData);\r\n\r\n\r\n  //    this.http.post('http://localhost:8083/api/v1/commentaires/creer?idRecette='+ recetteId +'&idPersonne='+ this.userId,bodyData\r\n  //    ).subscribe((resultData: any)=>\r\n  // {\r\n  //       console.log(resultData);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  //    });\r\n}\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/recettes']);\r\n  }\r\n\r\n  getImageUrl(url: string): string {\r\n    return `../../assets/images/${url}`;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAIzC,SAASC,WAAW,QAAQ,uBAAuB;AAY5C,WAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAU/BC,YACUC,KAAqB,EACrBC,cAA8B,EAC9BC,MAAc,EACdC,IAAe;IAHf,KAAAH,KAAK,GAALA,KAAK;IACL,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,IAAI,GAAJA,IAAI;IAZd,KAAAC,OAAO,GAAW,EAAa;IAC/B,KAAAC,UAAU,GAAG,CAAC;IACf;IACA,KAAAC,QAAQ,GAAmB,EAAE;IAC7B,KAAAC,aAAa,GAAkB,EAAE;IAgDlC;IAEE;IAEF,KAAAC,WAAW,GAAiB,IAAIX,WAAW,EAAE;IAC7C,KAAAY,OAAO,GAAU,EAAE;EA5Cb;EAEJC,QAAQA,CAAA;IACN,IAAI,CAACC,UAAU,EAAE;EAInB;EAEAC,UAAUA,CAAA;IACR,MAAMC,cAAc,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IACvDF,cAAc,EAAEG,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAQ,CAAE,CAAC;EAExD;EAGAN,UAAUA,CAAA;IACR,MAAMO,EAAE,GAAGC,MAAM,CAAC,IAAI,CAACnB,KAAK,CAACoB,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC,CAAC;IACzD,IAAI,CAACrB,cAAc,CAACsB,cAAc,CAACL,EAAE,CAAC,CAACM,SAAS,CAC7CC,IAAa,IAAI;MAChB,IAAI,CAACrB,OAAO,GAAGqB,IAAI;MACnB,IAAI,IAAI,CAACrB,OAAO,CAACsB,MAAM,EAAE;QACvB,KAAK,MAAMC,KAAK,IAAI,IAAI,CAACvB,OAAO,CAACsB,MAAM,EAAE;UACvC,MAAME,WAAW,GAAG;YAClBC,KAAK,EAAE,iBAAiBF,KAAK,CAACG,GAAG,EAAE;YACnCC,UAAU,EAAE,iBAAiBJ,KAAK,CAACG,GAAG,EAAE;YACxCE,GAAG,EAAE,SAAS;YACdC,KAAK,EAAE;WACR;UACD,IAAI,CAAC1B,aAAa,CAAC2B,IAAI,CAACN,WAAW,CAAC;;;MAGxCO,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC7B,aAAa,CAAC;IACjC,CAAC,EACD8B,KAAK,IAAG;MACNF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAOFC,aAAaA,CAACC,SAAkB;IAC9B,IAAIC,QAAQ,GAAK;MACf,SAAS,EAAC,IAAI,CAAC/B,OAAO;MACtB,SAAS,EAAC;QAAC,IAAI,EAAC8B;MAAS;KACzB;IAGDJ,OAAO,CAACC,GAAG,CAACI,QAAQ,CAAC;IAGtB;IACA;IACA;IACA;IAQA;EACF;;EAEEC,MAAMA,CAAA;IACJ,IAAI,CAACvC,MAAM,CAACwC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;EAEAC,WAAWA,CAACb,GAAW;IACrB,OAAO,uBAAuBA,GAAG,EAAE;EACrC;CAMC;AAhGUhC,oBAAoB,GAAA8C,UAAA,EALhChD,SAAS,CAAC;EACTiD,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACWjD,oBAAoB,CAgG9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}